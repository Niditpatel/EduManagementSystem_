{"version":3,"file":"static/js/901.25f44db9.chunk.js","mappings":"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","sources":["models/CreateClassModel.tsx","components/Admin/Class/CreateClass.tsx","components/Admin/Class/UpdateClass.tsx","components/Admin/Class/Class.tsx"],"sourcesContent":["import * as Yup from \"yup\";\r\n\r\nexport const CreateClassModel = Yup.object().shape({\r\n  name: Yup.string()\r\n    .required(\"Name is Required\")\r\n    .min(3, \"minimum 3 charcter is required\")\r\n    .max(8, \"maximum 8 charcter is allowed\"),\r\n  yearGroup: Yup.string().default(null),\r\n  noOfStudents: Yup.string().default(null).nullable(),\r\n  assignee: Yup.array().of(Yup.object()),\r\n  institute: Yup.object().required(\"Institute is required\").nullable(),\r\n  keyStage: Yup.array().of(Yup.object()),\r\n  examBoard: Yup.array().of(Yup.object()),\r\n});\r\n","import { FormProvider, useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport TextField from \"../../common/Fields/TextField\";\r\nimport {\r\n  AsyncMultiSingleSelect,\r\n  AsyncSingleSelect,\r\n  SingleSelect,\r\n} from \"../../common/Fields/SelectField\";\r\n\r\nimport { CreateClassModel } from \"../../../models/CreateClassModel\";\r\nimport { useState } from \"react\";\r\n\r\nimport { Create as CreateClassService } from \"../../../CurdService\";\r\nimport { GetInstitutes as GetInstitutesService } from \"../../../GetDataService\";\r\nimport { useOutletContext } from \"react-router-dom\";\r\n\r\nexport const CreateClass = (props: any) => {\r\n  const { stages, boards } = props;\r\n  const [APIerror, setAPIerror] = useState(\"\");\r\n  const [CahcheInstitute, setCahcheInstitute] = useState<any>([]);\r\n  const [APIsuccess, setAPIsuccess] = useState(\"\");\r\n\r\n  const { handleLoading } = useOutletContext<any>();\r\n\r\n  const methods = useForm({\r\n    mode: \"onChange\",\r\n    resolver: yupResolver(CreateClassModel),\r\n  });\r\n\r\n  const selectInstitute = async (inputValue: string) => {\r\n    if (inputValue.length > 2) {\r\n      const res = await GetInstitutesService(inputValue);\r\n      const institutes = res.map((val: any) => {\r\n        return { label: val.name.toUpperCase(), value: val._id };\r\n      });\r\n      setCahcheInstitute([...institutes]);\r\n      return institutes;\r\n    }\r\n  };\r\n\r\n  const SelectAssigne = async (inputValue: string) => {\r\n    // if (inputValue.length > 2) {\r\n    //   const res = await (inputValue);\r\n    //   const institutes = res.map((val: any) => {\r\n    //     return { label: val.name.toUpperCase(), value: val._id };\r\n    //   });\r\n    //   setCahcheInstitute([...institutes]);\r\n    //   return institutes;\r\n    // }\r\n  };\r\n\r\n  const onSubmit = (data: any) => {\r\n    setAPIsuccess(\"\");\r\n    setAPIerror(\"\");\r\n    handleLoading(true);\r\n    const token = sessionStorage.getItem(\"Access\");\r\n\r\n    const { keyStage, institute, assignee, ...restData } = data;\r\n\r\n    CreateClassService(\r\n      \"class/\",\r\n      {\r\n        keyStage: keyStage.value,\r\n        institute: institute.value,\r\n        assignee: assignee.value,\r\n        ...restData,\r\n      },\r\n      {}\r\n    ).then((res: any) => {\r\n      if (res.success === 0) {\r\n        handleLoading(false);\r\n        setAPIerror(res.message);\r\n      } else {\r\n        setAPIsuccess(res.message);\r\n        methods.reset();\r\n        handleLoading(false);\r\n      }\r\n    });\r\n  };\r\n  return (\r\n    <>\r\n      <div>\r\n        <div className=\"flex justify-center\">\r\n          {APIerror.length > 0 && (\r\n            <div className=\"bg-warning rounded p-2\">{APIerror}</div>\r\n          )}\r\n          {APIsuccess.length > 0 && (\r\n            <div className=\"bg-success p-2 rounded\">{APIsuccess}</div>\r\n          )}\r\n        </div>\r\n        <FormProvider {...methods}>\r\n          <form onSubmit={methods.handleSubmit(onSubmit)}>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\r\n              <TextField fieldname=\"name\" label=\"Name\" required={true} />\r\n              <div className=\"w-full mt-5\">\r\n                <SingleSelect\r\n                  fieldname=\"keyStage\"\r\n                  placeholder=\"Key Stage\"\r\n                  isSearchable={false}\r\n                  options={stages}\r\n                />\r\n              </div>\r\n              <TextField fieldname=\"yearGroup\" label=\"Year Group\" />\r\n              <TextField\r\n                type=\"number\"\r\n                fieldname=\"noOfStudents\"\r\n                label=\"Number of Students\"\r\n              />\r\n              <AsyncSingleSelect\r\n                fieldname=\"institute\"\r\n                placeholder=\"Institute\"\r\n                loadOptions={selectInstitute}\r\n                instituteDefaultOptions={CahcheInstitute}\r\n                required={true}\r\n              />\r\n              <div className=\"w-full mt-5\">\r\n                <SingleSelect\r\n                  fieldname=\"examBoard\"\r\n                  isSearchable={false}\r\n                  placeholder=\"Exam Board\"\r\n                  options={boards}\r\n                />\r\n              </div>\r\n              <div className=\"w-full mt-5\">\r\n                <AsyncMultiSingleSelect\r\n                  fieldname=\"assignee\"\r\n                  placeholder=\"Assignee\"\r\n                  loadOptions={SelectAssigne}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"flex justify-center mt-5\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"border border-primary px-5 text-center bg-primary text-white  py-1  capitalize hover:bg-white hover:text-primary\"\r\n              >\r\n                Create Class\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </FormProvider>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import { FormProvider, useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport TextField from \"../../common/Fields/TextField\";\r\nimport {\r\n  AsyncMultiSingleSelect,\r\n  AsyncSingleSelect,\r\n  SingleSelect,\r\n} from \"../../common/Fields/SelectField\";\r\n\r\nexport const UpdateClass = (props: any) => {\r\n  const { classId, stages, boards } = props;\r\n  const methods = useForm({\r\n    mode: \"onChange\",\r\n    // resolver: yupResolver(CreateInstituteSchema),\r\n  });\r\n  const onSubmit = (data: any) => {\r\n    console.log(data);\r\n  };\r\n  return (\r\n    <>\r\n      <div>\r\n        <FormProvider {...methods}>\r\n          <form onSubmit={methods.handleSubmit(onSubmit)}>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\r\n              <TextField fieldname=\"name\" label=\"Name\" required={true} />\r\n              <div className=\"w-full mt-5\">\r\n                <SingleSelect\r\n                  fieldname=\"keyStage\"\r\n                  placeholder=\"Key Stage\"\r\n                  isSearchable={false}\r\n                  options={stages}\r\n                />\r\n              </div>\r\n              <TextField fieldname=\"yearGroup\" label=\"Year Group\" />\r\n              <TextField\r\n                type=\"number\"\r\n                fieldname=\"noOfStudents\"\r\n                label=\"Number of Students\"\r\n              />\r\n              <AsyncSingleSelect\r\n                fieldname=\"institute\"\r\n                placeholder=\"Institute\"\r\n                required={true}\r\n              />\r\n              <div className=\"w-full mt-5\">\r\n                <SingleSelect\r\n                  fieldname=\"examBoard\"\r\n                  placeholder=\"Exam Board\"\r\n                  isSearchable={false}\r\n                  options={boards}\r\n                />\r\n              </div>\r\n              <div className=\"w-full mt-5\">\r\n                <AsyncMultiSingleSelect fieldname=\"asiignee\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"flex justify-center mt-5\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"border border-primary px-5 text-center bg-primary text-white  py-1  capitalize hover:bg-white hover:text-primary\"\r\n              >\r\n                Update Class\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </FormProvider>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import { FormProvider, useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\n\r\nimport { CreateClass } from \"./CreateClass\";\r\nimport { UpdateClass } from \"./UpdateClass\";\r\nimport {\r\n  AsyncMultiSingleSelect,\r\n  SingleSelect,\r\n} from \"../../common/Fields/SelectField\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nimport { GetInstitutes as GetInstitutesService } from \"../../../GetDataService\";\r\nimport {\r\n  Get as GetDataService,\r\n  Delete as DeleteDataService,\r\n} from \"../../../CurdService\";\r\n\r\nimport Table from \"../../common/Table/Table\";\r\nimport ReturnToTop from \"../../common/ReturnToTop/ReturnToTop\";\r\nimport ShowDataQuery from \"../../common/Table/ShowdataQuery/ShowDataQuery\";\r\nimport Modal from \"../../common/Modal/Modal\";\r\nimport { useOutletContext } from \"react-router-dom\";\r\nimport Pagination from \"../../common/Pagination/Pagination\";\r\nimport DisplayRows from \"../../common/Table/DisplayRows/DisplayRows\";\r\n\r\nexport default function Class() {\r\n  const [CahcheInstitute, setCahcheInstitute] = useState<any>([]);\r\n  const [Classes, setClasses] = useState([]);\r\n\r\n  const [boards, setboards] = useState([]);\r\n  const [stages, setstages] = useState([]);\r\n\r\n  const [Count, setCount] = useState<any>();\r\n  const [TotalData, setTotalData] = useState<any>();\r\n\r\n  const [DeleteClass, setDeleteClass] = useState<any>({});\r\n  const [DeleteClassRespone, setDeleteClassRespone] = useState(\"\");\r\n\r\n  const [ActionClassid, setActionClassid] = useState(\"\");\r\n  const [action, setaction] = useState(\"search\");\r\n\r\n  const [limitAndOffset, setlimitAndOffset] = useState({\r\n    limit: 5,\r\n    offset: 1,\r\n  });\r\n\r\n  const [sortData, setsortData] = useState({ order: 1, sort_by: \"\" });\r\n\r\n  const { handleLoading } = useOutletContext<any>();\r\n\r\n  const methods = useForm({\r\n    mode: \"onChange\",\r\n    //  resolver: yupResolver(SearchInstituteModelSchema),\r\n  });\r\n\r\n  const onSubmit = (data: any) => {\r\n    console.log(data);\r\n  };\r\n\r\n  // for search institutes\r\n  const selectInstitute = async (inputValue: string) => {\r\n    if (inputValue.length > 2) {\r\n      const res = await GetInstitutesService(inputValue);\r\n      const institutes = res.map((val: any) => {\r\n        return { label: val.name.toUpperCase(), value: val._id };\r\n      });\r\n      setCahcheInstitute([...institutes]);\r\n      return institutes;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const token = sessionStorage.getItem(\"Access\");\r\n    GetDataService(\"class/board\", token, {}).then((res: any) => {\r\n      setboards(\r\n        res.map((item: any) => {\r\n          return { label: item, value: item };\r\n        })\r\n      );\r\n    });\r\n    GetDataService(\"class/stage\", token, {}).then((res: any) => {\r\n      setstages(\r\n        res.map((item: any) => {\r\n          return { label: item, value: item };\r\n        })\r\n      );\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const token = sessionStorage.getItem(\"Access\");\r\n    GetDataService(\"class/\", token, {}).then((res: any) => {\r\n      if (res.success === 1) {\r\n        console.log(res, \"res\");\r\n        setClasses(res.data);\r\n        setTotalData(res.count);\r\n        setCount(Math.ceil(parseInt(res.count) / 5));\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  // for edit class\r\n  const handleClassEdit = (data: any) => {\r\n    setActionClassid(data);\r\n    setaction(\"edit\");\r\n  };\r\n\r\n  // conformation for delete\r\n  const handleConfirmationForClassDelete = (data: any) => {\r\n    setDeleteClass(data);\r\n    document.getElementById(\"DeleteClassModal\")?.click();\r\n  };\r\n\r\n  // for delete class\r\n  function handleDelete() {\r\n    handleLoading(true);\r\n    const token = sessionStorage.getItem(\"Access\");\r\n    DeleteDataService(\"user/\", token, DeleteClass._id).then((res: any) => {\r\n      handleLoading(false);\r\n      setDeleteClassRespone(res.message);\r\n    });\r\n  }\r\n\r\n  // handle return to top\r\n  const handleReturnToTop = () => {\r\n    setaction(\"search\");\r\n    sessionStorage.setItem(\"Classaction\", \"search\");\r\n  };\r\n\r\n  // handle Display Rows\r\n  const handleDisplayRows = (data: any) => {\r\n    sessionStorage.setItem(\"Classlimit\", data);\r\n    methods.setValue(\"limit\", parseInt(data));\r\n    methods.setValue(\"offset\", 1);\r\n    sessionStorage.setItem(\"Classoffset\", \"1\");\r\n    setlimitAndOffset({\r\n      offset: 1,\r\n      limit: parseInt(data),\r\n    });\r\n  };\r\n\r\n  // on page up\r\n  const handlePageUp = (data: any) => {\r\n    const offset = limitAndOffset.offset;\r\n    if (offset < parseInt(Count)) {\r\n      methods.setValue(\"offset\", offset + 1);\r\n      sessionStorage.setItem(\"Classoffset\", (offset + 1).toString());\r\n      setlimitAndOffset({\r\n        ...limitAndOffset,\r\n        offset: offset + 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  // on page down\r\n  const handlePageDown = (data: any) => {\r\n    const offset = methods.getValues(\"offset\");\r\n    if (offset > 1) {\r\n      methods.setValue(\"offset\", offset - 1);\r\n      sessionStorage.setItem(\"Classoffset\", (offset - 1).toString());\r\n      setlimitAndOffset({\r\n        ...limitAndOffset,\r\n        offset: offset - 1,\r\n      });\r\n    }\r\n  };\r\n\r\n  // on page jump\r\n  const handlePageJump = (data: any) => {\r\n    const page = parseInt(data);\r\n    if (data.length > 0 && page >= 1 && page !== limitAndOffset.offset) {\r\n      methods.setValue(\"offset\", page);\r\n      setlimitAndOffset({\r\n        ...limitAndOffset,\r\n        offset: page,\r\n      });\r\n      sessionStorage.setItem(\"Classoffset\", data);\r\n    }\r\n  };\r\n\r\n  // handle data sorting\r\n  const handleSorting = (data: any) => {\r\n    setsortData({\r\n      sort_by: data.sort_by,\r\n      order: data.order,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container px-2 text-primary\">\r\n      <div className=\"capitalize text-lg\">Classes</div>\r\n      <FormProvider {...methods}>\r\n        <form onSubmit={methods.handleSubmit(onSubmit)}>\r\n          <div className=\" mt-5 grid grid-cols-1 gap-5 md:grid-cols-2 xl:grid-cols-3\">\r\n            <div className=\"w-full pr-4\">\r\n              <label\r\n                className=\"capitalize\"\r\n                id=\"InstituteSearchLabel\"\r\n                data-tooltip-content=\"Search The Name, Territory, Level And Type Here.... \"\r\n              >\r\n                search\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"border rounded primary-placeholder w-full p-4  focus:outline-none\"\r\n                placeholder=\"Search...\"\r\n                {...methods.register(\"query\")}\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"capitalize\">Institution</label>\r\n              <AsyncMultiSingleSelect\r\n                fieldname=\"institution\"\r\n                placeholder=\"Select Institution\"\r\n                loadOptions={selectInstitute}\r\n                defaultOptions={CahcheInstitute}\r\n              />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"\">Exam Board</label>\r\n              <SingleSelect\r\n                fieldname=\"examBoard\"\r\n                placeholder=\"Select Exam Boards\"\r\n                options={boards}\r\n              />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"\">Key Stages</label>\r\n              <SingleSelect\r\n                fieldname=\"keyStage\"\r\n                placeholder=\"Select Key Stages\"\r\n                options={stages}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"flex flex-col space-y-4 md:flex-row md:justify-between  mt-5 md:mt-3\">\r\n            <div className=\"flex space-x-8\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"border border-primary w-32 text-center bg-primary text-white  py-1  capitalize hover:bg-white hover:text-primary \"\r\n              >\r\n                search\r\n              </button>\r\n              <button\r\n                id=\"ClassSearchReset\"\r\n                className=\"border border-primary w-32 text-center bg-primary text-white py-1  capitalize hover:bg-white hover:text-primary\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  methods.reset();\r\n                }}\r\n              >\r\n                reset\r\n              </button>\r\n            </div>\r\n            <div>\r\n              <button\r\n                className=\"underline capitalize\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  setaction(\"new\");\r\n                  sessionStorage.setItem(\"Classaction\", \"new\");\r\n                }}\r\n              >\r\n                &#43; create class\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div className=\"conatiner py-1  mt-5\">\r\n              {Classes && (\r\n                <>\r\n                  {Classes.length > 0 && (\r\n                    <Table\r\n                      data={Classes}\r\n                      isFor={\"Class\"}\r\n                      handleEdit={handleClassEdit}\r\n                      handleDelete={handleConfirmationForClassDelete}\r\n                      handleSort={handleSorting}\r\n                    >\r\n                      <ShowDataQuery TotalData={TotalData} />\r\n                    </Table>\r\n                  )}\r\n                </>\r\n              )}\r\n              {Classes.length === 0 && (\r\n                <>\r\n                  <div className=\"capitalize w-full  text-center text-3xl mt-10\">\r\n                    There is No Data To show\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n            {Classes.length !== 0 && (\r\n              <div className=\"flex my-5 justify-between\">\r\n                <Pagination\r\n                  handlePageUp={handlePageUp}\r\n                  handlePageDown={handlePageDown}\r\n                  handlePageJump={handlePageJump}\r\n                  lastPage={Count}\r\n                />\r\n                {/* display rows */}\r\n                <DisplayRows\r\n                  handleChange={handleDisplayRows}\r\n                  TotalData={TotalData}\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </form>\r\n      </FormProvider>\r\n      {/* for conformation  */}\r\n      <Modal\r\n        id=\"DeleteClassModal\"\r\n        handleConform={handleDelete}\r\n        modalText={`Are you sure , You want to delete  ${DeleteClass.name} ?`}\r\n        isFor={\"warning\"}\r\n      />\r\n      {action !== \"search\" && <ReturnToTop handleReturn={handleReturnToTop} />}\r\n      {action === \"new\" && <CreateClass stages={stages} boards={boards} />}\r\n      {action === \"edit\" && (\r\n        <UpdateClass classId={ActionClassid} stages={stages} boards={boards} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["CreateClassModel","Yup","shape","name","required","min","max","yearGroup","default","noOfStudents","nullable","assignee","of","institute","keyStage","examBoard","CreateClass","props","stages","boards","useState","APIerror","setAPIerror","CahcheInstitute","setCahcheInstitute","APIsuccess","setAPIsuccess","handleLoading","useOutletContext","methods","useForm","mode","resolver","yupResolver","selectInstitute","inputValue","length","GetInstitutesService","res","institutes","map","val","label","toUpperCase","value","_id","SelectAssigne","className","onSubmit","handleSubmit","data","sessionStorage","getItem","restData","CreateClassService","then","success","message","reset","TextField","fieldname","placeholder","isSearchable","options","type","loadOptions","instituteDefaultOptions","UpdateClass","classId","console","log","Class","Classes","setClasses","setboards","setstages","Count","setCount","TotalData","setTotalData","DeleteClass","setDeleteClass","setDeleteClassRespone","ActionClassid","setActionClassid","action","setaction","limit","offset","limitAndOffset","setlimitAndOffset","order","sort_by","setsortData","useEffect","token","GetDataService","item","count","Math","ceil","parseInt","id","register","defaultOptions","htmlFor","onClick","e","preventDefault","setItem","Table","isFor","handleEdit","handleDelete","document","getElementById","click","handleSort","ShowDataQuery","Pagination","handlePageUp","setValue","toString","handlePageDown","getValues","handlePageJump","page","lastPage","DisplayRows","handleChange","Modal","handleConform","DeleteDataService","modalText","ReturnToTop","handleReturn"],"sourceRoot":""}